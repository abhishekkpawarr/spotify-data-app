(this["webpackJsonpspotify-data-app"]=this["webpackJsonpspotify-data-app"]||[]).push([[0],{29:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),s=n(7),o=n.n(s),i=(n(22),n(10)),u=n(11),d=n(15),l=n(14),b=n(32),m=n(31),h=n(33);function p(e){var t=e.name,n=e.date,r=e.imgurl;return Object(a.jsxs)(h.a,{bg:"light",text:"dark",style:{width:"18rem",margin:"1rem",borderRadius:"0.5rem"},className:"align-self-start",children:[Object(a.jsx)(h.a.Img,{variant:"top",src:r}),Object(a.jsxs)(h.a.Body,{style:{opacity:"75%"},children:[Object(a.jsx)(h.a.Title,{children:t}),Object(a.jsx)(h.a.Subtitle,{children:n})]})]})}function f(e){var t=e.albums;return Object(a.jsx)(c.a.Fragment,{children:t.map((function(e,t){return Object(a.jsx)(p,{name:e.name,date:e.date,imgurl:e.imgurl},t)}))})}var j=n.p+"static/media/bandCover.3a9274cb.jpg",g=n.p+"static/media/rolling-stones-logo-text.1c9709dc.png",k=n(23).encode("94dd3e10abb6481993f35e9698bad543:b27c5bb650194e12a652c84e3e389e9a"),x=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={albums:[],access_token:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.refreshToken(),this.getAlbumData()}},{key:"getAlbumData",value:function(){var e=this;fetch("https://api.spotify.com/v1/artists/".concat("22bE4uQ6baNwSHPVcDxLCe","/albums"),{method:"get",headers:new Headers({Authorization:"Bearer ".concat(this.state.access_token)})}).then((function(e){if(e.ok)return e.json();throw Error()})).then((function(t){return e.setAlbums(t.items)})).catch((function(){e.refreshToken()}))}},{key:"refreshToken",value:function(){var e=this,t={grant_type:"refresh_token",refresh_token:"AQDpfCoh0xnZrpPZkHYWT_KxH_047nAcMeJcAZXSpPQA0Ux3CN0FmYrgogs-UO33UMtJrmlTzxQ-SZXHcGtynNAXEf1IF4Y9agC_0Ksb6s9fSA5_CuTYgnFzxQaqGuR_gB4"},n=[];for(var a in t){var r=encodeURIComponent(a),c=encodeURIComponent(t[a]);n.push(r+"="+c)}n=n.join("&"),fetch("https://accounts.spotify.com/api/token",{method:"post",headers:new Headers({Authorization:"Basic ".concat(k),"Content-Type":"application/x-www-form-urlencoded"}),body:n}).then((function(e){return e.json()})).then((function(t){return e.setState({access_token:t.access_token})}))}},{key:"setAlbums",value:function(e){if(e){var t=e.map((function(e){return{name:e.name,date:e.release_date,imgurl:e.images[0].url}}));this.setState({albums:t})}}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(b.a,{sticky:"top",bg:"dark",className:"justify-content-center",style:{background:"linear-gradient(rgba(0, 0, 0, 0.5), transparent)"},children:Object(a.jsx)(b.a.Brand,{href:"#",children:Object(a.jsx)("img",{src:g,width:"100rem"})})}),Object(a.jsx)(m.a,{className:"d-flex flex-wrap justify-content-center",fluid:!0,style:{padding:"1rem",backgroundImage:"url(".concat(j,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:Object(a.jsx)(f,{albums:this.state.albums})})]})}}]),n}(c.a.Component);o.a.render(Object(a.jsx)(x,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.1873bd83.chunk.js.map